#include <stdio.h>

#define N 3  // Количество внутренних узлов (x = 0.5, 0.6, 0.7)
#define h 0.1

void gauss_elimination(double A[N][N+1], double x[N]) {
    // Прямой ход метода Гаусса
    for (int i = 0; i < N; i++) {
        for (int k = i + 1; k < N; k++) {
            double factor = A[k][i] / A[i][i];
            for (int j = i; j <= N; j++) {
                A[k][j] -= factor * A[i][j];
            }
        }
    }

    // Обратный ход метода Гаусса
    for (int i = N - 1; i >= 0; i--) {
        x[i] = A[i][N];
        for (int j = i + 1; j < N; j++) {
            x[i] -= A[i][j] * x[j];
        }
        x[i] /= A[i][i];
    }
}

int main() {
    double A[N][N+1] = {0};  // Матрица коэффициентов и правых частей
    double x[N] = {0};       // Решение системы
    double y[N+1] = {0};     // Значения y в узлах (включая граничные)

    // Граничное условие y(0.4) = 1.2
    y[0] = 1.2;

    // Заполняем систему для внутренних узлов
    for (int i = 1; i < N; i++) {
        double xi = 0.4 + i * h;
        A[i-1][i-1] = - (2 + h * h);      // Коэффициент при y_i
        A[i-1][i] = 1 + 0.25 * xi * h;    // Коэффициент при y_{i+1}
        
        if (i > 1) {
            A[i-1][i-2] = 1 - 0.25 * xi * h;  // Коэффициент при y_{i-1}
        } else {
            A[i-1][N] -= (1 - 0.25 * xi * h) * y[0]; // Учитываем y(0.4)
        }
        
        A[i-1][N] = 2 * h * h;  // Правая часть уравнения
    }

    // Краевое условие y(0.7) + 2y'(0.7) = 1.4
    A[N-1][N-2] = -2.0 / h;  // Коэффициент при y_{N-1}
    A[N-1][N-1] = 1 + 2.0 / h;  // Коэффициент при y_N
    A[N-1][N] = 1.4;  // Правая часть

    // Решение системы методом Гаусса
    gauss_elimination(A, x);

    // Заполняем массив y значениями решения
    for (int i = 1; i <= N; i++) {
        y[i] = x[i-1];
    }

    // Вывод результатов в виде таблицы
    printf("x\t\ty\n");
    for (int i = 0; i <= N; i++) {
        double xi = 0.4 + i * h;
        printf("%.2f\t%.6f\n", xi, y[i]);
    }

    return 0;
}